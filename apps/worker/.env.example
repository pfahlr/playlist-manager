# =============================================================================
# PLAYLIST MANAGER - WORKER ENVIRONMENT CONFIGURATION
# =============================================================================
#
# Copy this file to .env and fill in the values
# Required variables are marked with [REQUIRED]
#

# =============================================================================
# CORE APPLICATION
# =============================================================================

# Environment mode (development | production | test)
NODE_ENV=development


# =============================================================================
# DATABASE [REQUIRED]
# =============================================================================

# PostgreSQL connection string (same as API)
# Format: postgresql://user:password@host:port/database?schema=public
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/playlistmgr?schema=public


# =============================================================================
# SECURITY & ENCRYPTION [REQUIRED]
# =============================================================================

# Master encryption key for provider tokens (must match API)
# Generate with: openssl rand -base64 32
MASTER_KEY=your-32-byte-base64-encoded-master-key-here

# Previous master key (for key rotation, must match API if rotating)
# MASTER_KEY_PREVIOUS=old-key-here


# =============================================================================
# OAUTH PROVIDERS - SPOTIFY
# =============================================================================
# Create app at: https://developer.spotify.com/dashboard
# Use same credentials as API

ENABLE_SPOTIFY=false
# SPOTIFY_CLIENT_ID=your-spotify-client-id
# SPOTIFY_CLIENT_SECRET=your-spotify-client-secret


# =============================================================================
# OAUTH PROVIDERS - DEEZER
# =============================================================================
# Create app at: https://developers.deezer.com/myapps
# Use same credentials as API

ENABLE_DEEZER=false
# DEEZER_APP_ID=your-deezer-app-id
# DEEZER_SECRET_KEY=your-deezer-secret-key


# =============================================================================
# OAUTH PROVIDERS - TIDAL
# =============================================================================
# Contact TIDAL for developer access
# Use same credentials as API

ENABLE_TIDAL=false
# TIDAL_CLIENT_ID=your-tidal-client-id
# TIDAL_CLIENT_SECRET=your-tidal-client-secret


# =============================================================================
# OAUTH PROVIDERS - YOUTUBE
# =============================================================================
# Create app at: https://console.cloud.google.com/apis/credentials
# Use same credentials as API

ENABLE_YOUTUBE=false
# YOUTUBE_CLIENT_ID=your-youtube-client-id.apps.googleusercontent.com
# YOUTUBE_CLIENT_SECRET=your-youtube-client-secret


# =============================================================================
# STORAGE & BACKUPS (OPTIONAL)
# =============================================================================

# S3 bucket for file exports (must match API if using S3)
# S3_BUCKET=my-playlist-backups

# AWS credentials (if not using IAM roles or AWS CLI)
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key


# =============================================================================
# EXTERNAL APIS
# =============================================================================

# MusicBrainz User-Agent header (customize with your contact info)
MUSICBRAINZ_USER_AGENT=playlist-manager/1.0.0 (https://github.com/example/playlist-manager)


# =============================================================================
# OBSERVABILITY
# =============================================================================

# Logging level (trace | debug | info | warn | error | fatal)
LOG_LEVEL=info

# Enable Prometheus metrics
ENABLE_METRICS=true


# =============================================================================
# WORKER CONFIGURATION
# =============================================================================

# Number of concurrent jobs to process
WORKER_CONCURRENCY=5

# Job processing timeout in milliseconds
WORKER_TIMEOUT_MS=300000

# Poll interval for new jobs in milliseconds
WORKER_POLL_INTERVAL_MS=1000
