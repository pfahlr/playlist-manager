# =============================================================================
# PLAYLIST MANAGER - API ENVIRONMENT CONFIGURATION
# =============================================================================
#
# Copy this file to .env and fill in the values
# Required variables are marked with [REQUIRED]
# All other variables have sensible defaults
#

# =============================================================================
# CORE APPLICATION
# =============================================================================

# Environment mode (development | production | test)
NODE_ENV=development

# API server port
PORT=3101

# Base URL for API (used in OAuth redirects and links)
API_BASE_URL=http://localhost:3101


# =============================================================================
# DATABASE [REQUIRED]
# =============================================================================

# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database?schema=public
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/playlistmgr?schema=public


# =============================================================================
# SECURITY & ENCRYPTION [REQUIRED]
# =============================================================================

# Master encryption key for provider tokens (32 bytes base64-encoded)
# Generate with: openssl rand -base64 32
MASTER_KEY=your-32-byte-base64-encoded-master-key-here

# Previous master key (for key rotation, optional)
# MASTER_KEY_PREVIOUS=old-key-here

# JWT secret for session tokens (min 32 chars)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-jwt-secret-key-here

# JWT token expiration (examples: 7d, 24h, 3600s)
JWT_EXPIRES_IN=7d


# =============================================================================
# OAUTH PROVIDERS - SPOTIFY
# =============================================================================
# Create app at: https://developer.spotify.com/dashboard

ENABLE_SPOTIFY=false
# SPOTIFY_CLIENT_ID=your-spotify-client-id
# SPOTIFY_CLIENT_SECRET=your-spotify-client-secret
# SPOTIFY_REDIRECT_URI=http://localhost:3101/api/v1/auth/callback/spotify


# =============================================================================
# OAUTH PROVIDERS - DEEZER
# =============================================================================
# Create app at: https://developers.deezer.com/myapps

ENABLE_DEEZER=false
# DEEZER_APP_ID=your-deezer-app-id
# DEEZER_SECRET_KEY=your-deezer-secret-key
# DEEZER_REDIRECT_URI=http://localhost:3101/api/v1/auth/callback/deezer


# =============================================================================
# OAUTH PROVIDERS - TIDAL
# =============================================================================
# Contact TIDAL for developer access

ENABLE_TIDAL=false
# TIDAL_CLIENT_ID=your-tidal-client-id
# TIDAL_CLIENT_SECRET=your-tidal-client-secret
# TIDAL_REDIRECT_URI=http://localhost:3101/api/v1/auth/callback/tidal


# =============================================================================
# OAUTH PROVIDERS - YOUTUBE
# =============================================================================
# Create app at: https://console.cloud.google.com/apis/credentials

ENABLE_YOUTUBE=false
# YOUTUBE_CLIENT_ID=your-youtube-client-id.apps.googleusercontent.com
# YOUTUBE_CLIENT_SECRET=your-youtube-client-secret
# YOUTUBE_REDIRECT_URI=http://localhost:3101/api/v1/auth/callback/youtube


# =============================================================================
# CORS & WEB CLIENT
# =============================================================================

# Comma-separated list of allowed CORS origins
CORS_ORIGINS=http://localhost:3000,http://localhost:19006

# Web application URL (for redirects)
WEB_APP_URL=http://localhost:3000


# =============================================================================
# REDIS & CACHING
# =============================================================================

# Redis connection URL (required if IDEMPOTENCY_STORE_BACKEND=redis)
# REDIS_URL=redis://localhost:6379

# Idempotency store backend (redis | memory)
IDEMPOTENCY_STORE_BACKEND=memory

# Idempotency key TTL in seconds (default: 15 minutes)
IDEMPOTENCY_TTL_SECONDS=900


# =============================================================================
# STORAGE & BACKUPS (OPTIONAL)
# =============================================================================

# S3 bucket for file exports and backups
# S3_BUCKET=my-playlist-backups

# AWS credentials (if not using IAM roles or AWS CLI)
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key


# =============================================================================
# EXTERNAL APIS
# =============================================================================

# MusicBrainz User-Agent header (customize with your contact info)
MUSICBRAINZ_USER_AGENT=playlist-manager/1.0.0 (https://github.com/example/playlist-manager)


# =============================================================================
# OBSERVABILITY
# =============================================================================

# Logging level (trace | debug | info | warn | error | fatal)
LOG_LEVEL=info

# Enable Prometheus metrics endpoint
ENABLE_METRICS=true


# =============================================================================
# DEVELOPMENT/TESTING
# =============================================================================

# Skip actual job enqueueing in tests/dev (use in-memory fake)
API_FAKE_ENQUEUE=false
